# 淘宝小游戏引擎插件使用说明

游戏引擎插件是淘宝新增的一项功能。此插件内置了 Cocos Creator 引擎的官方版本，若玩家首次体验的游戏中启用了此插件，则所有同样启用此插件的游戏，都无需再次下载 Cocos Creator 引擎，只需直接使用公共插件库中的相同版本引擎，或者增量更新引擎(2.x引擎更新)即可。

例如，当一个玩家玩过了由 Cocos Creator v2.4.12 开发的 A 游戏，里面已启用了此插件。然后他又玩了同样是 v2.4.12 开发的 B 游戏，如果 B 游戏也启用了此插件，那么就无需重新下载 Cocos Creator 引擎。即使 B 游戏使用的是 v2.4.13 的 Cocos Creator，淘宝也只需要增量更新引擎两个版本的差异部分。这样就可以大幅减少小游戏的下载量，提升小游戏启动速度 0.5 ~ 2s，获得更好的用户体验。

## 使用说明

Cocos Creator 提供了强大的集成式游戏开发环境，使用引擎插件非常简单。

## Cocos Creator v2.4.12及以上版本
在以上版本中已集成此插件。只需在 构建发布 面板中，勾选 Taobao Engine Plugin(Seperate Engine)，然后正常构建发布即可，无需其它人工操作。（此功能仅在非调试模式生效）

![构建面板选项](./publish-taobao-mini-game/build-options.png)

## Q&A

Q：引擎插件功能是否支持自定义引擎？
A：不支持，构建时只能使用编辑器原版内置引擎，否则编辑器将会弹出提示。

Q：项目开启了引擎的模块裁剪，要使用引擎插件的话需要还原为完整版引擎吗？
A：无需修改，项目可以按原来的方式继续裁剪引擎。引擎插件提供的是完整版引擎，能兼容所有的裁剪设置，不会影响原有项目的包体。

Q：启用引擎插件后，是否仍然会把引擎代码算入首包包体中？
A：根据淘宝的规则，目前仍然会计算在内。

Q：开启引擎插件后，是否可以在编辑器 模块设置 中移除所有模块，减小包体？
A：若随意裁剪引擎可能导致游戏无法在低版本淘宝上运行。

## 参考链接

- [淘宝小游戏引擎插件官方说明](https://miniapp.open.taobao.com/doc.htm?docId=121623&docType=1&tag=game-dev)
